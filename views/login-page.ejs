<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
</head>
<body>
    <main class="container">
        <header class="header">
            <h1>Login Now!</h1>
        </header>
        <section class="content">
            <form method="POST" action="/login">
                <div class="input_container">
                    <div class="inputs">
                        <label for="formUsername">
                            Username:
                        </label>
                        <input type="text" name="username" id="formUsername" class="input_bar" value="<%= oldInput?.username || '' %>">
                    </div>
                    <% if (errors?.username) { %>
                        <p style="color:red;"><%= errors.username.msg %></p>
                    <% } %>
                </div>
                <div class="input_container">
                    <div class="inputs">
                        <label for="formPassword">
                            Password:
                        </label>
                        <input type="text" name="password" id="formPassword" class="input_bar">
                    </div>
                    <% if (errors?.password) { %>
                        <p style="color:red;"><%= errors.password.msg %></p>
                    <% } %>
                </div>
                <input type="submit" value="Submit">
            </form>
        </section>
    </main>
    <script>
        // Clear form when page is restored from bfcache (back button)
        window.addEventListener("pageshow", function (event) {
            if (event.persisted || (window.performance && window.performance.navigation.type === 2)) {
                const form = document.querySelector("form");
                if (form) form.reset();
            }
        });
    </script>
</body>
</html>